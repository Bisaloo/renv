<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="renv">
<title>Introduction to renv • renv</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.6/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.6/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Introduction to renv">
<meta property="og:description" content="renv">
<meta property="og:image" content="https://rstudio.github.io/renv/logo.svg">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KHBDBW7');</script><!-- End Google Tag Manager -->
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">renv</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.17.3-80</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/renv.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Basics</h6>
    <a class="dropdown-item" href="../articles/package-sources.html">Package sources</a>
    <a class="dropdown-item" href="../articles/package-install.html">Installing packages</a>
    <a class="dropdown-item" href="../articles/python.html">Using Python with renv</a>
    <a class="dropdown-item" href="../articles/faq.html">Frequently asked questions</a>
    <a class="dropdown-item" href="../articles/packrat.html">packrat vs renv</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Deployment</h6>
    <a class="dropdown-item" href="../articles/ci.html">Using renv with continuous integration</a>
    <a class="dropdown-item" href="../articles/docker.html">Using renv with Docker</a>
    <a class="dropdown-item" href="../articles/rsconnect.html">Using renv with Posit Connect</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Advanced</h6>
    <a class="dropdown-item" href="../articles/packages.html">Package development</a>
    <a class="dropdown-item" href="../articles/profiles.html">Project profiles</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rstudio/renv/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Introduction to renv</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/renv/blob/HEAD/vignettes/renv.Rmd" class="external-link"><code>vignettes/renv.Rmd</code></a></small>
      <div class="d-none name"><code>renv.Rmd</code></div>
    </div>

    
    
<p>The renv package helps you create create
<strong>r</strong>eproducible <strong>env</strong>ironments for your R
projects. This vignette introduces you to the basic nouns and verbs of
renv, like the user and project libraries, and key functions like
<code><a href="../reference/init.html">renv::init()</a></code>, <code><a href="../reference/snapshot.html">renv::snapshot()</a></code> and
<code><a href="../reference/restore.html">renv::restore()</a></code>. You’ll also learn about some of the
infrastructure that makes renv tick, some problems that renv doesn’t
help with, and how to uninstall it if you no longer want to use it.</p>
<div class="figure">
<img src="renv.png" width="306" alt=""><p class="caption">The basic nouns and verbs of renv, which you’ll learn
more about below.</p>
</div>
<p>This vignette assumes that you’re are already living a
project-centric lifestyle and are familiar with a version control
system, like Git and GitHub: we believe these are table stakes for
reproducible data science. If you’re not already using projects, we
recommend <a href="https://r4ds.had.co.nz/workflow-projects.html" class="external-link">Workflow:
Projects</a> from <em>R for Data Science</em>; if you’re unfamiliar with
<a href="https://git-scm.com/" class="external-link">Git</a> and <a href="https://github.com/" class="external-link">GitHub</a>, we recommend <a href="https://happygitwithr.com" class="external-link">Happy Git and GitHub for the
useR</a>.</p>
<div class="section level2">
<h2 id="libraries-and-repositories">Libraries and repositories<a class="anchor" aria-label="anchor" href="#libraries-and-repositories"></a>
</h2>
<p>Before we get started there are two important pieces of R jargon that
you’ll need to fully understand: libraries and repositories.</p>
<p>A <strong>library</strong> is a directory containing installed
packages. This term is confusing because you write
<code><a href="https://dplyr.tidyverse.org" class="external-link">library(dplyr)</a></code>, making it easy to think of dplyr as a
library, not a package. And that confusion doesn’t usually matter
because you don’t usually think too much about libraries, simply
installing all packages to a <strong>system library</strong><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;More precisely, there can be up to three system
libraries: an (optional) &lt;strong&gt;user&lt;/strong&gt; library, an (optional)
&lt;strong&gt;site&lt;/strong&gt; library, and a &lt;strong&gt;default&lt;/strong&gt; library
(where base R packages are installed).&lt;/p&gt;"><sup>1</sup></a> that’s
shared across all projects. With renv, you’ll start using
<strong>project libraries,</strong> so that each project has its own
independent collection of packages. You can see your current libraries
with <code><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths()</a></code> and see which packages are available in
each library with <code>lapply(.libPaths(), list.files)</code>.</p>
<p>A <strong>repository</strong> is a source of packages;
<code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages()</a></code> gets a package from a
<em>repository</em> (usually somewhere on the internet) and puts it in a
<em>library</em> (a directory on your computer). The most important
repository is CRAN which is available to install packages from in just
about every R session. Other freely available repositories include <a href="https://bioconductor.org" class="external-link">Bioconductor</a>, the <a href="https://packagemanager.rstudio.com/client/#/" class="external-link">Posit Public Package
Manager</a>, and <a href="https://r-universe.dev/search/" class="external-link">R Universe</a>
(which turns GitHub organisations into repositories). You can see which
repositories are currently set up in your session with
<code>getOptions("repos")</code>; when you call
<code>install.packages("{pkgname}")</code>, R will look for that package
in each repository in turn.</p>
</div>
<div class="section level2">
<h2 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<p>To convert a project to use renv, call <code><a href="../reference/init.html">renv::init()</a></code>. It
adds three new files and directories to your project:</p>
<ul>
<li>The project library, <code>renv/library</code>, is a library that
contains all packages currently used by your code<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;If you’d like to skip dependency discovery, you can call
&lt;code&gt;renv::init(bare = TRUE)&lt;/code&gt; to initialize a project with an
empty project library.&lt;/p&gt;"><sup>2</sup></a>. This is the key magic
that makes renv work: instead of having a single library containing the
packages that you use everywhere, renv gives you a separate library for
each project. This gives you the benefits of <strong>isolation</strong>:
different projects can use different versions of packages, and
installing, updating, or removing packages in one project doesn’t affect
any other project.</li>
<li>The <strong>lockfile</strong>, <code>renv.lock</code>, records
enough metadata about every package that it can be re-installed on a new
machine. We’ll come back to the lockfile shortly when we talk about
<code><a href="../reference/snapshot.html">renv::snapshot()</a></code> and <code><a href="../reference/restore.html">renv::restore()</a></code>.</li>
<li>A project R profile, <code>.Rprofile</code>. This file is run
automatically every time you start R (in that project), and renv uses it
to configure your R session to use the project library. This ensures
that once you turn on renv for a project, it stays on, until you
deliberately turn it off.</li>
</ul>
<p>The next important pair of tools is <code><a href="../reference/snapshot.html">renv::snapshot()</a></code> and
<code><a href="../reference/restore.html">renv::restore()</a></code>. <code><a href="../reference/snapshot.html">snapshot()</a></code> updates the
lockfile with metadata about the currently-used packages in the project
library. This is useful because you can then share the lockfile and
other people or other computers can easily reproduce your current
environment by running <code><a href="../reference/restore.html">restore()</a></code>, which uses the metadata
from the lockfile to install exactly the same version of every package.
This pair of functions gives you the benefits of
<strong>reproducibility</strong> and <strong>portability</strong>: you
are now tracking exactly which package versions you have installed, and
can recreate them on other machines.</p>
<p>Now that you’ve got the a high-level lay of the land, we’ll show a
couple of specific workflows before discussing some of the
reproducibility challenges that renv doesn’t currently help with.</p>
<div class="section level3">
<h3 id="collaboration">Collaboration<a class="anchor" aria-label="anchor" href="#collaboration"></a>
</h3>
<p>One of the reasons to use renv is to make it easier to share your
code in such way that everyone gets the same versions of the packages
that you have. As above, you’ll start by calling
<code><a href="../reference/init.html">renv::init()</a></code>. You’ll then need to commit
<code>renv.lock</code>, <code>.Rprofile</code>,
<code>renv/settings.json</code> and <code>renv/activate.R</code> to
version control, ensuring that others can recreate your project
environment. If you’re using git, this is particularly simple because
renv will create a <code>.gitignore</code> for you, and you can just
commit all suggested files<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;If you’re using another version control system, you’ll
need to ignore &lt;code&gt;renv/library&lt;/code&gt; and any other directories in
&lt;code&gt;renv/&lt;/code&gt;.&lt;/p&gt;"><sup>3</sup></a>.</p>
<p>Now when one of your collaborators opens this project, renv will
automatically bootstrap itself, downloading and installing the
appropriate version of renv. It will not, however, install the packages
automatically — you’ll need to tell your collaborators to call
<code><a href="../reference/restore.html">renv::restore()</a></code> to get all the packages they need (renv
will also remind them to do this when they open the project).</p>
</div>
<div class="section level3">
<h3 id="installing-packages">Installing packages<a class="anchor" aria-label="anchor" href="#installing-packages"></a>
</h3>
<p>Over time, your project will need more packages. One of the
philosophies of renv is that your existing package management workflows
should continue to work, so you can continue to use familiar tools like
<code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages()</a></code><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;Behind the scene, renv shims
&lt;code&gt;&lt;a href="https://rdrr.io/r/utils/install.packages.html" class="external-link"&gt;install.packages()&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;update.packages(),&lt;/code&gt; and
&lt;code&gt;&lt;a href="https://rdrr.io/r/utils/remove.packages.html" class="external-link"&gt;remove.packages()&lt;/a&gt;&lt;/code&gt; to call the renv equivalents. Learn more
in &lt;code&gt;?renv::load.&lt;/code&gt;&lt;/p&gt;'><sup>4</sup></a>. But you can also use
<code><a href="../reference/install.html">renv::install()</a></code>: it’s a little less typing and supports
installing packages from GitHub, Bioconductor, and more, not just
CRAN.</p>
<p>When you use renv, you’ll typically end up with many libraries across
your different projects, so you’ll often need to install the same
package multiple times. It would be annoying if you had to download (or
worse, compile) the package repeatedly, so renv uses a global package
cache. That means you only ever have to download and install a package
once, and for each subsequent install, renv will just add a link from
the project library to the global cache. You can learn more about the
cache in <code><a href="../articles/package-install.html">vignette("package-install")</a></code>.</p>
<p>After installing the package and checking that your code still works,
you should call <code><a href="../reference/snapshot.html">renv::snapshot()</a></code> to record the latest
versions in your lockfile. If you’re collaborating with others, you’ll
need to commit those changes to git, and let them know that you’ve
updated the lockfile and they should call <code><a href="../reference/restore.html">renv::restore()</a></code>
when they’re next working on a package.</p>
</div>
<div class="section level3">
<h3 id="updating-packages">Updating packages<a class="anchor" aria-label="anchor" href="#updating-packages"></a>
</h3>
<p>It’s worth noting that there’s a small risk associated with
isolation: while your code will never break due to a change in another
package, it will also never benefit from bug fixes. So for packages
under active development, we recommend that you regularly (at least once
a year) use <code><a href="../reference/update.html">renv::update()</a></code><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;You can also use &lt;code&gt;&lt;a href="https://rdrr.io/r/utils/update.packages.html" class="external-link"&gt;update.packages()&lt;/a&gt;&lt;/code&gt;, but
&lt;code&gt;&lt;a href="../reference/update.html"&gt;renv::update()&lt;/a&gt;&lt;/code&gt; also works for packages installed from
Bioconductor, GitHub, and Git.&lt;/p&gt;'><sup>5</sup></a> to get the latest
versions of all dependencies. Similarly, if you’re making major changes
to a project that you haven’t worked on for a while, it’s often a good
idea to start with an <code><a href="../reference/update.html">renv::update()</a></code> before making any
changes to the code.</p>
<p>After calling <code><a href="../reference/update.html">renv::update()</a></code>, you should run the code in
your project and make sure it still works (or make any changes needed to
get it working). Then call <code><a href="../reference/snapshot.html">renv::snapshot()</a></code> to record the
new versions in the lockfile. If you get stuck, and can’t get the
project to work with the new versions, you can call
<code><a href="../reference/restore.html">renv::restore()</a></code> to roll back changes to the project library
and revert to the known good state recorded in your lockfile. If you
need to roll back to an even older version, take a look at
<code><a href="../reference/history.html">renv::history()</a></code> and <code><a href="../reference/history.html">renv::revert()</a></code>.</p>
<p><code><a href="../reference/update.html">renv::update()</a></code> will also update renv itself, ensuring
that you get all the latest features. See <code><a href="../reference/upgrade.html">renv::upgrade()</a></code>
if you ever want to upgrade just renv, or you need to install a
development version from GitHub.</p>
</div>
</div>
<div class="section level2">
<h2 id="infrastructure">Infrastructure<a class="anchor" aria-label="anchor" href="#infrastructure"></a>
</h2>
<p>Now that you’ve got the basic usage of renv under your belt, it’s
time to learn a bit more about the underlying infrastructure. You
typically won’t touch any of these files directly, but it’s good to
understand what they do because you will see them in git diffs.</p>
<p><code><a href="../reference/init.html">renv::init()</a></code> creates the following important files and
directories:</p>
<ul>
<li>
<code>.Rprofile:</code> Used to activate renv for new R sessions
launched in the project by calling
<code>source("renv/activate.R")</code>.</li>
<li>
<code>renv/activate.R</code>: The activation script run by the
project <code>.Rprofile</code>. This ensures that the project library is
made active for newly launched R sessions. This ensures that any new R
processes launched within the project directory will use the project
library, and hence are isolated from the regular system library.</li>
<li>
<code>renv.lock</code>: The lockfile, describing the state of your
project’s library at a particular point in time.</li>
<li>
<code>renv/library</code>: The private project library.</li>
<li>
<code>renv/settings.json</code>: Project settings – see
<code><a href="../reference/settings.html">?settings</a></code> for more details.</li>
</ul>
<p>Of these files, <code>renv.lock</code> is probably the most important
to understand as it will change the most over the life of a project. An
<code>renv.lock</code> is a json file that records all the information
needed to recreate your project in the future. It includes:</p>
<ul>
<li>The version of R used.</li>
<li>Your R repositories.</li>
<li>Package records defining each R package, their version, and their
installation source.</li>
</ul>
<p>Here is an example lockfile, including the packages markdown and
mime:</p>
<pre><code>{
  "R": {
    "Version": "4.3.0",
    "Repositories": [
      {
        "Name": "CRAN",
        "URL": "https://cloud.r-project.org"
      }
    ]
  },
  "Packages": {
    "markdown": {
      "Package": "markdown",
      "Version": "1.0",
      "Source": "Repository",
      "Repository": "CRAN",
      "Hash": "4584a57f565dd7987d59dda3a02cfb41"
    },
    "mime": {
      "Package": "mime",
      "Version": "0.7",
      "Source": "Repository",
      "Repository": "CRAN",
      "Hash": "908d95ccbfd1dd274073ef07a7c93934"
    }
  }
}</code></pre>
<p>The package records are created using the currently-installed copies
of packages as a “source of truth”. When you first do
<code><a href="../reference/init.html">renv::init()</a></code>, they’ll be the same as the versions installed
in your system library, but as the project progresses they’ll evolve
independently. The fields written into each package record are derived
from the installed package’s <code>DESCRIPTION</code> file, and include
the data required to recreate installation, regardless of whether the
package was installed from <a href="https://cran.r-project.org/" class="external-link">CRAN</a>, <a href="https://www.bioconductor.org/" class="external-link">Bioconductor</a>, <a href="https://github.com/" class="external-link">GitHub</a>, <a href="https://about.gitlab.com/" class="external-link">Gitlab</a>, <a href="https://bitbucket.org/" class="external-link">Bitbucket</a>, or elsewhere. You can learn
more about the sources renv supports in
<code><a href="../articles/package-sources.html">vignette("package-sources")</a></code>.</p>
</div>
<div class="section level2">
<h2 id="caveats">Caveats<a class="anchor" aria-label="anchor" href="#caveats"></a>
</h2>
<p>It is important to emphasize that renv is not a panacea for
reproducibility. Rather, it is a tool that can help make projects
reproducible by solving one small part of the problem: R packages.
Ultimately, making a project reproducible will always require thought,
not just mechanical usage of a tool: what does it mean for a particular
project to be reproducible, and how can you use tools to meet that
particular goal of reproducibility?</p>
<p>The most important piece of the puzzle that renv tracks, but doesn’t
help with, is the version of R. renv can’t easily help with this because
it’s run inside of R, but you might find tools like <a href="https://github.com/r-lib/rig" class="external-link">rig</a> helpful, as they make it
easier to switch between multiple version of R on one computer.</p>
<p>Other components of the system that can cause differences in output
are the operating system, versions of system libraries, the compilers
used to build R and R packages, and so on. Keeping a ‘stable’ machine
image is a separate challenge, but <a href="https://www.docker.com/" class="external-link">Docker</a> is one popular solution. See
also <code><a href="../articles/docker.html">vignette("docker", package = "renv")</a></code> for
recommendations on how Docker can be used together with renv.</p>
<p>A salient example of this is the rmarkdown package, as it relies
heavily on <a href="https://pandoc.org/" class="external-link">pandoc</a>. However, because
pandoc is not bundled with the rmarkdown package simply restoring an
renv project using rmarkdown may not be sufficient: you also needs to
ensure the project is run in a environment with the correct version of
pandoc available.</p>
<p>You also need to be aware that package installation may fail if a
package was originally installed through a binary, but that binary is no
longer available. renv will attempt to install the package from source,
but this can (and often will) fail due to missing system
prerequisites.</p>
</div>
<div class="section level2">
<h2 id="uninstalling-renv">Uninstalling renv<a class="anchor" aria-label="anchor" href="#uninstalling-renv"></a>
</h2>
<p>If you find renv isn’t the right fit for your project, deactivating
and uninstalling it is easy.</p>
<ul>
<li><p>To deactivate renv in a project, use
<code><a href="../reference/activate.html">renv::deactivate()</a></code>. This removes the renv auto-loader from
the project <code>.Rprofile</code>, but doesn’t touch any other renv
files used in the project. If you’d like to later re-activate renv, you
can do so with <code><a href="../reference/activate.html">renv::activate()</a></code>.</p></li>
<li><p>To completely remove renv from a project, call
<code>renv::deactivate(clean = TRUE)</code>. If you later want to use
renv for this project, you’ll need to start from scratch with
<code>renv::init().</code></p></li>
</ul>
<p>If you want to stop using renv for all your projects, you’ll also
want to remove <code>renv'</code>s global infrastructure with the
following R code<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;If you’ve customized any of renv’s infrastructure paths
as described in &lt;code&gt;&lt;a href="../reference/paths.html"&gt;?renv::paths&lt;/a&gt;&lt;/code&gt;, then you’ll need to find and
remove those customized folders as well.&lt;/p&gt;'><sup>6</sup></a>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">root</span> <span class="op">&lt;-</span> <span class="fu">renv</span><span class="fu">::</span><span class="va"><a href="../reference/paths.html">paths</a></span><span class="op">$</span><span class="fu">root</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">root</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>You can then uninstall the renv package with
<code>utils::remove.packages("renv")</code>.</p>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Kevin Ushey, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

  </div></footer><!-- Google Tag Manager (noscript) --><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KHBDBW7" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->


  </body>
</html>
